version: '3.8'

services:
  workflow:
    build: .
    container_name: ${container_name}
    ports:
      - "${api_port}:8000"
${compose_mlflow_port}
    environment:
      # API keys loaded from .env file
      - GOOGLE_API_KEY=$${GOOGLE_API_KEY}
      - SERPER_API_KEY=$${SERPER_API_KEY}
    volumes:
${compose_mlflow_comment}
${compose_mlflow_volume}
    restart: unless-stopped
